userid,dbid,toplevel,queryid,query,plans,total_plan_time,min_plan_time,max_plan_time,mean_plan_time,stddev_plan_time,calls,total_exec_time,min_exec_time,max_exec_time,mean_exec_time,stddev_exec_time,rows,shared_blks_hit,shared_blks_read,shared_blks_dirtied,shared_blks_written,local_blks_hit,local_blks_read,local_blks_dirtied,local_blks_written,temp_blks_read,temp_blks_written,blk_read_time,blk_write_time,temp_blk_read_time,temp_blk_write_time,wal_records,wal_fpi,wal_bytes,jit_functions,jit_generation_time,jit_inlining_count,jit_inlining_time,jit_optimization_count,jit_optimization_time,jit_emission_count,jit_emission_time
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,12,0.068487,0.00141,0.008729,0.00570725,0.0017861192161125938,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2098170,2917656471.472809,2.207519,17827.769064,1390.5720086898723,1799.9243590199283,0,413568185,37118,791426,836149,0,0,0,0,0,0,0.0,0.0,0.0,0.0,127367043,59125,11368186574,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,111,65.31128899999999,0.20563,16.558682,0.5883899909909912,1.603251910428535,0,7691,208,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4142,205.35839799999962,0.006051,163.233151,0.049579526315789525,2.535868970701629,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,111,0.688914,0.004302,0.016319,0.006206432432432433,0.0018473540982587887,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4203,73014.5350439999,0.048809,993.082037,17.372004531049246,65.96141015366612,4203,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4083,349585.0223220003,5.337863,3944.570411,85.61964788684789,183.41460791796558,4083,57160,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,21143814,1871004241.7607062,0.026314,3977.356408,88.48943912203725,250.74563127459936,21143814,267814149,13827,352313,365296,0,0,0,0,0,0,0.0,0.0,0.0,0.0,85357929,40299,6466502762,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,10,8.280959,0.416869,2.062687,0.8280958999999999,0.5264707858773268,735,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,111,158.27137399999992,0.430039,61.664956,1.4258682342342341,5.784981452043001,0,10768,302,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,21143815,154138850.40098873,0.005488,3921.433912,7.290020764984447,56.90613951329394,21143814,104829518,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21143814,10059,1177478415,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,110,1.026314,0.005503,0.028307,0.009330127272727275,0.003201761620531851,110,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4137,888.1894440000012,0.039061,306.48665800000003,0.21469408846990579,5.260058069675538,4137,4357,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,21143814,1061984234.8493044,0.009677,4900.44984,50.22671098267488,160.68135478233378,21143814,122747981,22793,446695,479284,0,0,0,0,0,0,0.0,0.0,0.0,0.0,42993337,19568,4991930125,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4141,17.81134900000003,0.001718,3.378091,0.004301219270707544,0.05315281590923137,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4201,49.85141400000004,0.0070350000000000005,1.0589469999999999,0.01186655891454418,0.016557809563179197,4201,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,111,0.8147800000000002,0.004608,0.013022,0.007340360360360361,0.001447608414728466,111,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4089,121642.36336699978,0.049019,1461.527404,29.748682652726835,91.04296350927598,1004365,6460,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4200,230.72070299999982,0.009162,112.301265,0.054933500714285995,1.7752220227461286,4200,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,111,288.5747240000001,0.609455,184.076651,2.5997722882882908,17.30819404901247,0,5483,130,211,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,680,187,932769,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,5429662,22016.623548995256,0.00134,83.582308,0.004054879207766839,0.09251339820910232,5429662,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,14,0.07952400000000001,0.00141,0.008729,0.005680285714285714,0.001692294656400484,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2163306,2918306328.7952776,2.207519,17827.769064,1349.0030207448249,1788.2844934920051,0,424695482,37119,814360,859137,0,0,0,0,0,0,0.0,0.0,0.0,0.0,131320056,60135,11718652675,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,112,65.69672899999999,0.20563,16.558682,0.5865779375000002,1.596192661301245,0,7764,208,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4183,205.7563219999996,0.006051,163.233151,0.049188697585465,2.5234136921002643,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,112,0.696369,0.004302,0.016319,0.006217580357142858,0.0018428350811724506,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4246,73259.52783699991,0.048809,993.082037,17.25377480852567,65.6375163722701,4246,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4126,350166.3719200003,5.337863,3944.570411,84.86824331555985,182.60363680164352,4126,57762,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,21795174,1871192221.983658,0.026314,3977.356408,85.85351151515349,247.42806574957316,21795174,275590413,13828,361721,374706,0,0,0,0,0,0,0.0,0.0,0.0,0.0,87986692,40809,6659055290,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,11,9.281706,0.416869,2.062687,0.8437914545454545,0.504418065370809,854,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,112,159.09296999999992,0.430039,61.664956,1.4204729464285712,5.759378252005827,0,10876,302,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,21795175,154168868.36989722,0.005488,3921.433912,7.073532025776307,56.06414380090836,21795174,108088144,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21795174,10062,1212667630,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,111,1.0367899999999999,0.005503,0.028307,0.009340450450450453,0.0031891450427035616,111,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4177,893.5319350000013,0.039061,306.48665800000003,0.21391714986832663,5.234987551658949,4177,4399,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,21795174,1062183635.6906208,0.009677,4900.44984,48.73480870997743,158.49711950358144,21795174,125756678,22793,460221,492862,0,0,0,0,0,0,0.0,0.0,0.0,0.0,44317587,20068,5149843698,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4182,17.94122600000003,0.001718,3.378091,0.004290106647537051,0.05289180424715157,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4244,50.529109000000034,0.0070350000000000005,1.0589469999999999,0.011906010603204547,0.016730608769961307,4244,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,112,0.8241670000000002,0.004608,0.013022,0.00735863392857143,0.0014539343728774575,112,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4131,122064.48757499977,0.049019,1461.527404,29.548411419753087,90.60168237525842,1021848,6568,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4243,231.39023799999987,0.009162,112.301265,0.05453458354937573,1.7662082298785475,4243,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,112,289.5423080000001,0.609455,184.076651,2.5851991785714312,17.231436121332102,0,5540,130,211,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,687,187,933242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,6732382,27035.87088299358,0.00134,83.582308,0.004015795729208352,0.08348925740820198,6732382,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,16,0.09262900000000002,0.00141,0.008729,0.0057893125,0.001610816862602248,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2205845,2918844807.4241695,2.207519,17827.769064,1323.2320527617842,1780.498245680185,0,432045794,37183,830622,875876,0,0,0,0,0,0,0.0,0.0,0.0,0.0,133901691,60135,11944274780,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,114,66.484015,0.20563,16.558682,0.5831931140350879,1.5823613252253996,0,7897,221,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4213,206.04608899999965,0.006051,163.233151,0.04890721314977453,2.5144154683695557,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,114,0.71103,0.004302,0.016319,0.006237105263157895,0.0018324944477952367,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4276,73408.0580659999,0.048809,993.082037,17.16745979092609,65.41543982529723,4276,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4156,350569.4782190004,5.337863,3944.570411,84.35261747329159,182.04421284045952,4156,58182,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,22220564,1871356329.4039693,0.026314,3977.356408,84.21731911953552,245.32933028535652,22220564,280678872,13831,368507,381775,0,0,0,0,0,0,0.0,0.0,0.0,0.0,89703486,40809,6783390912,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,12,10.937856,0.416869,2.062687,0.9114879999999999,0.5325837939213572,973,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,114,160.6815929999999,0.430039,61.664956,1.4094876578947366,5.709260214998143,0,11075,319,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,22220565,154188929.75443247,0.005488,3921.433912,6.939019316315317,55.53378645102112,22220564,110216358,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,22220564,10062,1235638690,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,113,1.0611439999999999,0.005503,0.028307,0.00939065486725664,0.0031828860776877107,113,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4207,895.5172590000012,0.039061,306.48665800000003,0.21286362229617317,5.2163037965935235,4207,4433,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,22220564,1062358091.6701974,0.009677,4900.44984,47.80968168360932,157.11806136369637,22220564,127728654,22808,469697,502532,0,0,0,0,0,0,0.0,0.0,0.0,0.0,45182428,20068,5251130181,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4212,18.08004800000003,0.001718,3.378091,0.004292509021842344,0.052707376988350395,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4274,50.873477000000044,0.0070350000000000005,1.0589469999999999,0.011903012868507276,0.016672394174450676,4274,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,114,0.8418290000000003,0.004608,0.013022,0.0073844649122807035,0.0014548604513764808,114,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4159,122345.54872599978,0.049019,1461.527404,29.417059082952637,90.31341207671234,1031838,6634,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4273,231.83107799999996,0.009162,112.301265,0.0542548743271709,1.7600003504095425,4273,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,114,291.4908890000001,0.609455,184.076651,2.5569376228070197,17.080939863966876,0,5640,144,215,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,701,190,943801,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,7583162,30286.5669449924,0.00134,83.582308,0.003993923240067872,0.07899881154607041,7583162,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,18,0.10380200000000002,0.00141,0.008729,0.005766777777777778,0.001540047494056796,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2301191,2919714090.765748,2.207519,17827.769064,1268.7838996267033,1762.832697547458,0,448066938,38773,866461,911075,0,0,0,0,0,0,0.0,0.0,0.0,0.0,139688094,62139,12457543712,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,115,66.771602,0.20563,16.558682,0.5806226260869567,1.5757055081553477,0,7963,228,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4269,206.56613699999977,0.006051,163.233151,0.04838747645818694,2.4978732861662856,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,115,0.716419,0.004302,0.016319,0.006229730434782609,0.0018262080472066756,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4332,73755.73560999993,0.048809,993.082037,17.025793077100644,65.00574776020179,4332,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4212,351382.1168470004,5.337863,3944.570411,83.42405433214621,181.00814058019247,4212,58966,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,23174024,1871547866.1220813,0.026314,3977.356408,80.76059065625586,240.80948429814526,23174024,292017003,14870,383926,396626,0,0,0,0,0,0,0.0,0.0,0.0,0.0,93551456,42381,7068472852,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,13,12.637878,0.416869,2.062687,0.9721444615384615,0.5531519583598394,1092,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,115,161.3844739999999,0.430039,61.664956,1.4033432521739129,5.684761707661528,0,11167,335,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,23174025,154219061.84108034,0.005488,3921.433912,6.6548241766845955,54.39733804235435,23174024,114986303,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,23174024,10065,1287129169,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,114,1.067038,0.005503,0.028307,0.009359982456140354,0.003185625130704557,114,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4263,899.8811440000014,0.039061,306.48665800000003,0.2110910494956604,5.181955863923349,4263,4491,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,23174024,1062718160.0590475,0.009677,4900.44984,45.858162572845906,154.1568629066023,23174024,132086914,23313,490117,522880,0,0,0,0,0,0,0.0,0.0,0.0,0.0,47120861,20500,5479317173,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4268,18.26300500000003,0.001718,3.378091,0.004279054592314888,0.052360788097401204,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4330,51.582568000000045,0.0070350000000000005,1.0589469999999999,0.011912833256351063,0.016605862700089635,4330,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,115,0.8483900000000003,0.004608,0.013022,0.007377304347826089,0.0014505374007072898,115,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4214,122905.18569199974,0.049019,1461.527404,29.165919718082595,89.74991189307922,1055824,6784,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4329,232.67184900000007,0.009162,112.301265,0.05374725086625117,1.7485852565264524,4329,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,115,292.2287340000001,0.609455,184.076651,2.5411194260869587,17.007351372085367,0,5689,152,218,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,708,193,954038,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,9490082,37891.715425995724,0.00134,371.335408,0.003992770075748042,0.13993209158374162,9490082,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,20,0.11586600000000001,0.00141,0.008729,0.0057932999999999995,0.0014637333807767043,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2458578,2920825849.651373,2.207519,17827.769064,1188.0143113829577,1733.2558877851009,0,474207434,42035,925235,967978,0,0,0,0,0,0,0.0,0.0,0.0,0.0,149239658,66868,13309875766,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,116,68.124324,0.20563,16.558682,0.587278655172414,1.5705218243740542,0,8029,235,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4351,207.36351199999976,0.006051,163.233151,0.04765881682371866,2.4742292043772722,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,116,0.722994,0.004302,0.016319,0.0062327068965517245,0.0018185995560113973,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4414,74242.77595499992,0.048809,993.082037,16.819840497281373,64.41708026074299,4414,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4294,352573.77705300035,5.337863,3944.570411,82.1084716006055,179.51981123378994,4294,60114,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,24747894,1871785691.6487916,0.026314,3977.356408,75.6341404908686,233.85617230939815,24747894,310689587,16192,408302,420326,0,0,0,0,0,0,0.0,0.0,0.0,0.0,99903265,44700,7537274574,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,14,13.880700000000001,0.416869,2.062687,0.9914785714285713,0.5375696086514504,1211,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,116,163.7816859999999,0.430039,61.664956,1.4119110862068964,5.660951061018299,0,11263,347,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,24747895,154262378.5020899,0.005488,3921.433912,6.23335352368784,52.66501110368436,24747894,122859966,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,24747894,10068,1372128448,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,115,1.077944,0.005503,0.028307,0.009373426086956524,0.0031749906376058326,115,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4345,905.4643250000014,0.039061,306.48665800000003,0.20839224971231315,5.132862511877059,4345,4575,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,24747894,1063013687.3421764,0.009677,4900.44984,42.95370294305415,149.59886818473683,24747894,139232521,25199,524515,556083,0,0,0,0,0,0,0.0,0.0,0.0,0.0,50320616,22910,5862847505,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4350,18.60745600000004,0.001718,3.378091,0.004277576091954007,0.051873684848863,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4412,52.513877000000065,0.0070350000000000005,1.0589469999999999,0.011902510652765203,0.016452212072610824,4412,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,116,0.8567960000000003,0.004608,0.013022,0.007386172413793105,0.0014473991196808135,116,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4295,123777.91778299975,0.049019,1461.527404,28.819072824912702,88.93599791506485,1092789,7012,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4411,233.90467700000008,0.009162,112.301265,0.053027584901383214,1.73226392720029,4411,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,116,294.6815860000001,0.609455,184.076651,2.540358500000002,16.93388711403306,0,5738,160,221,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,715,196,964351,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,12637822,49840.3672059994,0.00134,371.335408,0.00394374657326157,0.12313192663492699,12637822,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,22,0.128835,0.00141,0.008729,0.005856136363636363,0.0014098198239315594,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2509682,2921459972.118338,2.207519,17827.769064,1164.0757562584488,1723.5722896175173,0,482928855,42888,944355,986376,0,0,0,0,0,0,0.0,0.0,0.0,0.0,152341085,67656,13584463702,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,117,68.592877,0.20563,16.558682,0.5862639059829061,1.5638339808526298,0,8095,242,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4382,207.6637039999997,0.006051,163.233151,0.047390165221360074,2.4654639007136385,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,117,0.730507,0.004302,0.016319,0.006243649572649573,0.0018146423551765433,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4445,74399.7830699999,0.048809,993.082037,16.73785895838019,64.1999237447031,4445,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4325,352995.49499400036,5.337863,3944.570411,81.61745548994219,178.96883947501198,4325,60548,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,25258934,1871919290.4397845,0.026314,3977.356408,74.10919599537023,231.7224139824269,25258934,316787779,16983,416490,427731,0,0,0,0,0,0,0.0,0.0,0.0,0.0,101965721,45488,7690184052,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,15,15.497845000000002,0.416869,2.062687,1.0331896666666667,0.5422850680771344,1330,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,117,164.5877449999999,0.430039,61.664956,1.406732863247863,5.636982948928319,0,11359,359,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,25258935,154308797.84081644,0.005488,3921.433912,6.10907775172738,52.139521085333676,25258934,125416621,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,25258934,10068,1399724608,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,116,1.093345,0.005503,0.028307,0.009425387931034486,0.003210010583212632,116,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4376,907.6198940000014,0.039061,306.48665800000003,0.20740856809872046,5.114662681925772,4376,4608,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,25258934,1063238865.5590746,0.009677,4900.44984,42.09357629894795,148.2071354531781,25258934,141583296,25215,535447,567076,0,0,0,0,0,0,0.0,0.0,0.0,0.0,51359587,22910,5984525963,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4381,18.71236000000004,0.001718,3.378091,0.004271253138552823,0.05168995468781592,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4443,52.89234200000007,0.0070350000000000005,1.0589469999999999,0.011904645959936991,0.016395807050007857,4443,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,117,0.8659930000000003,0.004608,0.013022,0.007401649572649574,0.0014508085533237157,117,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4325,124056.77403399975,0.049019,1461.527404,28.68364717549133,88.64284448706682,1103774,7087,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4442,234.37050500000004,0.009162,112.301265,0.052762382935614895,1.7262116604236775,4442,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,117,295.4730050000001,0.609455,184.076651,2.5254102991453014,16.862133385321123,0,5787,168,224,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,722,196,964825,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,13659902,53850.26685100154,0.00134,371.335408,0.003942214728260313,0.118865488058787,13659902,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,24,0.15059,0.00141,0.015622,0.0062745833333333325,0.0023714747506679377,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2622440,2922480956.4520054,2.207519,17827.769064,1114.4128965589216,1702.3665877685164,0,501718404,44120,985728,1027256,0,0,0,0,0,0,0.0,0.0,0.0,0.0,159184188,69408,14188389639,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,125,7674.110361,5.683536,295.260258,61.39288288800002,60.52807640267732,125,1750,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,118,69.086417,0.20563,16.558682,0.5854781101694917,1.557216663734874,0,8161,249,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4392,207.76394399999973,0.006051,163.233151,0.04730508743169395,2.462656186139432,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,118,0.736642,0.004302,0.016319,0.006242728813559323,0.001806964280086566,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4514,74798.92663999986,0.048809,993.082037,16.5704312450155,63.72200308435606,4514,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4394,354036.36587000056,5.337863,3944.570411,80.57268226445147,177.75142386505897,4394,61514,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,26386514,1872142457.821123,0.026314,3977.356408,70.95073103712939,227.2107761436608,26386514,330164032,17489,433767,444832,0,0,0,0,0,0,0.0,0.0,0.0,0.0,106516400,46494,8023937671,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,16,18.120334,0.416869,2.622489,1.132520875,0.6509177066669868,1449,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,118,165.4908999999999,0.430039,61.664956,1.402465254237288,5.613236417485009,0,11450,376,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,26386515,154335578.63994235,0.005488,3921.433912,5.84903230456794,51.028457072800585,26386514,131057457,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26386514,10070,1460619314,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,117,1.101036,0.005503,0.028307,0.009410564102564106,0.0032002482178961175,117,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4385,908.1846920000015,0.039061,306.48665800000003,0.20711167434435593,5.109415393379701,4385,4619,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,26386514,1063645329.9297589,0.009677,4900.44984,40.310187618179455,145.27832102427413,26386514,146706612,25895,559543,590855,0,0,0,0,0,0,0.0,0.0,0.0,0.0,53652011,23656,6254698281,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4391,18.74211900000004,0.001718,3.378091,0.0042683031200182004,0.05163111461083853,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4512,53.74938300000003,0.0070350000000000005,1.0589469999999999,0.011912540558510648,0.016274707958254035,4512,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,118,0.8745150000000004,0.004608,0.013022,0.007411144067796612,0.0014482937551748153,118,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4393,124812.01447099975,0.049019,1461.527404,28.411567145686323,87.98456332815088,1134245,7276,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4511,235.46573400000005,0.009162,112.301265,0.05219812325426766,1.7129648194874396,4511,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,118,296.3703660000001,0.609455,184.076651,2.5116132711864427,16.791194860596345,0,5836,176,228,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,729,200,982758,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,15915062,62630.8633170064,0.00134,371.335408,0.00393532009595644,0.11047660159142918,15915062,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,26,0.163156,0.00141,0.015622,0.006275230769230768,0.002281473061721516,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2707059,2923335958.9017987,2.207519,17827.769064,1079.8936997315984,1686.5724610045,0,515937061,44711,1017044,1058059,0,0,0,0,0,0,0.0,0.0,0.0,0.0,164319594,71394,14644851693,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,160,8200.535031,5.683536,295.260258,51.25334394375002,56.84991665885674,160,2240,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,119,69.686123,0.20563,16.558682,0.5855976722689077,1.5506604767753192,0,8226,257,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4448,208.34524299999964,0.006051,163.233151,0.046840207508992766,2.4471082733772147,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,119,0.741696,0.004302,0.016319,0.00623273949579832,0.0018026249555736457,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4574,75147.72912599987,0.048809,993.082037,16.429324251421082,63.31512223391579,4574,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4419,354390.8738260005,5.337863,3944.570411,80.19707486444892,177.3180287968518,4419,61864,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,27232704,1872367941.9210026,0.026314,3977.356408,68.75438964568032,223.990492821398,27232704,340218282,17505,446942,457999,0,0,0,0,0,0,0.0,0.0,0.0,0.0,109931457,47002,8273326766,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,17,20.066068,0.416869,2.622489,1.1803569411764705,0.6598358282201692,1568,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,119,166.6024239999999,0.430039,61.664956,1.400020369747899,5.589664726470962,0,11532,402,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,27232705,154358335.1085568,0.005488,3921.433912,5.6681234974117904,50.239667516903765,27232704,135290618,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27232704,10070,1506313574,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,118,1.1107909999999999,0.005503,0.028307,0.009413483050847462,0.003186815401345849,118,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4440,912.1867290000018,0.039061,306.48665800000003,0.20544746148648663,5.077693661983846,4440,4676,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,27232704,1064003840.0329324,0.009677,4900.44984,39.07081133158416,143.1908995586361,27232704,150571754,26407,577684,608491,0,0,0,0,0,0,0.0,0.0,0.0,0.0,55372360,25134,6461771240,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4447,18.946563000000044,0.001718,3.378091,0.004260526872048552,0.05130557258168859,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4572,54.49886500000001,0.0070350000000000005,1.0589469999999999,0.011920136701662302,0.016174367868448843,4572,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,119,0.8820230000000003,0.004608,0.013022,0.007411957983193279,0.0014422227499313208,119,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4452,125427.78615299973,0.049019,1461.527404,28.17335717722372,87.42514798004954,1159229,7435,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4571,236.40088699999998,0.009162,112.301265,0.05171754255086446,1.7016904402888289,4571,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,119,297.4574050000001,0.609455,184.076651,2.4996420588235315,16.72100045503641,0,5885,184,232,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,736,204,1000767,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,17607442,69385.82632000475,0.001316,371.335408,0.003940710201969681,0.10676612358541274,17607442,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,28,0.174347,0.00141,0.015622,0.0062266785714285705,0.002215511760512543,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2731029,2923571968.1377087,2.207519,17827.769064,1070.5019859319038,1682.1244034698095,0,520217784,44810,1026236,1067630,0,0,0,0,0,0,0.0,0.0,0.0,0.0,165774300,71394,14771982147,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,178,8445.246890999997,5.683536,295.260258,47.445207252809006,55.09292329660805,178,2492,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,120,70.204624,0.20563,16.558682,0.5850385333333334,1.5441979208227643,0,8293,263,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4466,208.5029169999996,0.006051,163.233151,0.04668672570532911,2.442173011700156,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,119,0.741696,0.004302,0.016319,0.00623273949579832,0.0018026249555736457,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4592,75229.90816399988,0.048809,993.082037,16.382819722125443,63.19550047705117,4592,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4419,354390.8738260005,5.337863,3944.570411,80.19707486444892,177.3180287968518,4419,61864,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,27472404,1872462444.8685334,0.026314,3977.356408,68.1579393222731,223.10282475239393,27472404,343098638,17525,450842,462038,0,0,0,0,0,0,0.0,0.0,0.0,0.0,110898841,47002,8343389810,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,18,21.482093000000003,0.416869,2.622489,1.193449611111111,0.6435133752081562,1687,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,120,167.5771089999999,0.430039,61.664956,1.3964759083333331,5.566460022132589,0,11634,408,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,27472405,154366853.6234205,0.005488,3921.433912,5.618978521299748,50.022888113385406,27472404,136489816,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27472404,10070,1519257374,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,118,1.1107909999999999,0.005503,0.028307,0.009413483050847462,0.003186815401345849,118,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4458,913.3954000000018,0.039061,306.48665800000003,0.20488905338716926,5.067439921421212,4458,4694,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,27472404,1064062135.7574772,0.009677,4900.44984,38.73203581883173,142.61135907283963,27472404,151699684,26423,582976,614023,0,0,0,0,0,0,0.0,0.0,0.0,0.0,55859682,25134,6518838650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4465,19.00026300000004,0.001718,3.378091,0.004255378051511739,0.05120212363296898,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4590,54.703074000000015,0.0070350000000000005,1.0589469999999999,0.011917881045751644,0.01614288482394049,4590,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,119,0.8820230000000003,0.004608,0.013022,0.007411957983193279,0.0014422227499313208,119,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4470,125575.05153399974,0.049019,1461.527404,28.09285269217002,87.25932359405438,1164721,7468,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4589,236.65913099999997,0.009162,112.301265,0.05157095903246928,1.6983514004964497,4589,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,120,298.8036620000001,0.609455,184.076651,2.490030516666669,16.651513970493998,0,5937,189,233,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,743,204,1001241,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,18086842,71309.17783100282,0.001316,371.335408,0.003942599699327944,0.10556446874206918,18086842,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,30,0.188066,0.00141,0.015622,0.006268866666666666,0.002149650680666254,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2739116,2923937632.4200535,2.207519,17827.769064,1067.4749197989288,1680.5847102070106,0,521926090,45877,1029673,1069995,0,0,0,0,0,0,0.0,0.0,0.0,0.0,166265098,72932,14819745527,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,190,8603.008690999994,5.683536,295.260258,45.27899311052633,54.00777906072248,190,2660,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,121,70.546629,0.20563,16.558682,0.5830299917355373,1.5379610936522874,0,8366,263,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4478,208.6193519999996,0.006051,163.233151,0.04658761768646714,2.4388993469990825,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,120,0.748831,0.004302,0.016319,0.006240258333333334,0.001796971157697647,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4604,75266.88552599988,0.048809,993.082037,16.348150635534328,63.11691222663436,4604,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4420,354399.8208360005,5.337863,3944.570411,80.18095494027145,177.3012073257686,4420,61878,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,27553274,1872665740.3358142,0.026314,3977.356408,67.96527121736065,222.80803204111604,27553274,344115451,18592,452364,462489,0,0,0,0,0,0,0.0,0.0,0.0,0.0,111225223,48536,8371877211,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,19,22.973795000000003,0.416869,2.622489,1.2091471052631577,0.6298806497491489,1806,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,121,168.1069959999999,0.430039,61.664956,1.3893140165289255,5.543965546206198,0,11742,408,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,27553275,154388660.88776156,0.005488,3921.433912,5.603278045451477,49.95113370988152,27553274,136894422,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27553274,10070,1523624354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,119,1.1217179999999998,0.005503,0.028307,0.009426201680672272,0.0031764032658376474,119,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4470,914.1614770000018,0.039061,306.48665800000003,0.20451039753915004,5.060638720122664,4470,4708,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,27553274,1064161054.101197,0.009677,4900.44984,38.621945765907256,142.41965538207995,27553274,152118677,26423,584891,615937,0,0,0,0,0,0,0.0,0.0,0.0,0.0,56024098,25138,6538114629,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4477,19.03836000000004,0.001718,3.378091,0.004252481572481553,0.051133522782480685,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4602,54.884813000000015,0.0070350000000000005,1.0589469999999999,0.01192629574098219,0.016136708649982852,4602,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,120,0.8908060000000003,0.004608,0.013022,0.0074233833333333344,0.0014415988241262621,120,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4481,125649.06144999973,0.049019,1461.527404,28.04040648292791,87.15964712688817,1166717,7483,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4601,236.837783,0.009162,112.301265,0.05147528428602511,1.6961362331306566,4601,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,121,299.5476320000001,0.609455,184.076651,2.475600264462812,16.583316726639513,0,5994,189,236,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,750,207,1011933,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,18248582,72005.01349200674,0.001316,371.335408,0.003945786773569179,0.10521143843735949,18248582,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,32,0.201017,0.00141,0.015622,0.006281781249999999,0.0020854537835680842,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2815102,2924681458.1268263,2.207519,17827.769064,1038.925572901692,1666.6207461235679,0,534692111,45877,1056678,1097158,0,0,0,0,0,0,0.0,0.0,0.0,0.0,170876574,73431,15223979147,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,240,9341.24433899999,5.683536,295.260258,38.9218514125,49.66513361051488,240,3360,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,122,71.03035799999999,0.20563,16.558682,0.582216049180328,1.5316711736141362,0,8431,271,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4530,209.14993499999954,0.006051,163.233151,0.046169963576158955,2.424864001720158,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,122,0.7624580000000001,0.004302,0.016319,0.0062496557377049195,0.0017838354872066814,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4656,75559.12946099992,0.048809,993.082037,16.228335365335063,62.774161772006906,4656,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4422,354419.44588000054,5.337863,3944.570411,80.14912842152869,177.26742239800052,4422,61906,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,28313134,1872889631.195489,0.026314,3977.356408,66.14914587682514,220.07229046369807,28313134,353141845,18592,463243,473477,0,0,0,0,0,0,0.0,0.0,0.0,0.0,114291865,49035,8595190533,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,20,24.702699000000003,0.416869,2.622489,1.2351349499999997,0.6242949180389405,1925,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,122,169.2417739999999,0.430039,61.664956,1.3872276557377048,5.521245322232777,0,11824,434,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,28313135,154412392.62903157,0.005488,3921.433912,5.453737024495828,49.2849307711755,28313134,140695734,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,28313134,10070,1564656794,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,121,1.1447839999999998,0.005503,0.028307,0.009461024793388433,0.0031792322672781624,121,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4522,917.8556060000019,0.039061,306.48665800000003,0.20297558735072999,5.031478274573011,4522,4764,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,28313134,1064302487.9792427,0.009677,4900.44984,37.59041609378998,140.63755204061363,28313134,155585804,26423,601017,632112,0,0,0,0,0,0,0.0,0.0,0.0,0.0,57568932,25138,6719034927,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4529,19.732855000000047,0.001718,3.378091,0.00435700044159857,0.051421292166610406,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4654,55.51829600000002,0.0070350000000000005,1.0589469999999999,0.011929156854318872,0.016050174766926408,4654,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,122,0.9086500000000003,0.004608,0.013022,0.007447950819672132,0.0014437910584749146,122,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4531,126158.25462199976,0.049019,1461.527404,27.843357894945918,86.69880084314308,1187194,7615,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4653,237.6180589999999,0.009162,112.301265,0.05106771093917939,1.686636324723412,4653,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,122,300.71895500000005,0.609455,184.076651,2.464909467213117,16.515631152305843,0,6043,197,240,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,757,207,1012407,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,19768302,78146.57791399889,0.001316,371.335408,0.0039531254588273,0.10415823508385297,19768302,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,34,0.213371,0.00141,0.015622,0.006275617647058823,0.0020243581119878304,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2840277,2925229076.816152,2.207519,17827.769064,1029.909785846954,1661.9903541106783,0,539251843,47805,1067513,1106458,0,0,0,0,0,0,0.0,0.0,0.0,0.0,172404417,75755,15367163153,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,263,9649.956253999992,5.683536,295.260258,36.691848874524716,48.00438035407406,263,3682,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,123,71.385167,0.20563,16.558682,0.5803672113821139,1.5255688444202629,0,8498,277,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4553,209.35409599999954,0.006051,163.233151,0.04598157171095982,2.4187329546017486,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,122,0.7624580000000001,0.004302,0.016319,0.0062496557377049195,0.0017838354872066814,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4679,75673.95313399991,0.048809,993.082037,16.17310389698654,62.62493592290401,4679,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4422,354419.44588000054,5.337863,3944.570411,80.14912842152869,177.26742239800052,4422,61906,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,28564884,1873040163.5009186,0.026314,3977.356408,65.57142551328056,219.1871150789739,28564884,356185361,18612,467639,477958,0,0,0,0,0,0,0.0,0.0,0.0,0.0,115307885,49042,8668824611,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,21,26.422265000000003,0.416869,2.622489,1.258203095238095,0.6179220712990938,2044,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,123,169.8816479999999,0.430039,61.664956,1.3811516097560974,5.499164966427074,0,11926,440,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,28564885,154426037.4405446,0.005488,3921.433912,5.406149453798513,49.06998320434921,28564884,141955233,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,28564884,10070,1578251294,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,121,1.1447839999999998,0.005503,0.028307,0.009461024793388433,0.0031792322672781624,121,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4545,919.3421050000019,0.039061,306.48665800000003,0.2022754906490651,5.018740868212895,4545,4787,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,28564884,1064533624.3981725,0.009677,4900.44984,37.267213281811486,140.06943406520543,28564884,156802688,28268,607456,636931,0,0,0,0,0,0,0.0,0.0,0.0,0.0,58080755,27455,6788584855,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4552,19.81043700000004,0.001718,3.378091,0.00435202921792617,0.051291317403920206,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4677,55.79184000000002,0.0070350000000000005,1.0589469999999999,0.011928980115458631,0.016011372379944013,4677,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,122,0.9086500000000003,0.004608,0.013022,0.007447950819672132,0.0014437910584749146,122,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4554,126354.06916699978,0.049019,1461.527404,27.745733238252072,86.49130783741631,1195196,7663,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4676,237.93907099999993,0.009162,112.301265,0.050885173438836966,1.682485164153013,4676,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,123,301.6016670000001,0.609455,184.076651,2.452046073170734,16.448971061352147,0,6094,203,243,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,764,210,1023251,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,20271802,80408.5322500008,0.001316,371.335408,0.003966521192836748,0.11022612491846898,20271802,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2633937700789011921,"CREATE OR REPLACE FUNCTION limit_database() RETURNS trigger AS $$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
BEGIN
  SELECT pg_database_size(current_database()) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: The database size has exceeded 39 MB. Consider migrating data to a new node.';
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,7.383542,7.383542,7.383542,7.383542,0.0,0,144,32,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,45399,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-1358718200392596645,"SELECT *
FROM pg_stat_statements

LIMIT $1",0,0.0,0.0,0.0,0.0,0.0,2,1.743998,0.684375,1.059623,0.871999,0.187624,137,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3001077671193128586,"-- Register a view on the function for ease of use.
CREATE VIEW pg_stat_statements AS
  SELECT * FROM pg_stat_statements(true)",0,0.0,0.0,0.0,0.0,0.0,4,11.868799,1.371962,6.024639,2.96719975,1.8290932129670663,0,986,45,35,6,0,0,0,0,0,0,0.0,0.0,0.0,0.0,412,22,165918,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger
AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.509095,3.509095,3.509095,3.509095,0.0,0,61,16,6,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,6,17354,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2262015958856596123,"ALTER TABLE users 
ADD color VARCHAR(255)",0,0.0,0.0,0.0,0.0,0.0,1,0.33108,0.33108,0.33108,0.33108,0.0,0,20,4,4,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,4,26026,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3447435520849418771,LISTEN query_changes,0,0.0,0.0,0.0,0.0,0.0,36,0.22517199999999998,0.00141,0.015622,0.0062547777777777775,0.0019692987205137983,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-4939026921861618597,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_8'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.226697,0.226697,0.226697,0.226697,0.0,0,33,2,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,3804,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,411217133500865911,DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.123474,0.03738,0.0433,0.041158,0.0026794243162789047,0,51,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,2,0.16108,0.079207,0.08187299999999999,0.08054,0.0013329999999999974,2,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5443916308116627791,"CREATE TRIGGER pgbench_accounts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_accounts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.559746,0.559746,0.559746,0.559746,0.0,0,36,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8919,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8064844924711388,"DO $$ 
DECLARE
    u_id INT;
    user_id INT;
    gender CHAR(1);
    age INT;
    address TEXT;
BEGIN
    FOR p IN 1..10 LOOP  -- Change 10 to the number of users/posts you want to generate
        u_id := (random() * 100000 + 1)::INT;
        gender := CASE WHEN random() > 0.5 THEN 'M' ELSE 'F' END;
        age := (random() * 50 + 18)::INT;  -- Age range from 18 to 68
        address := '123 Main St, Apt ' || (random() * 100 + 1)::INT || ', City, Country';

        INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ('user_' || u_id, 'user_' || u_id || '@example.com', 'Firstname_' || u_id, age, gender, address)
        RETURNING id INTO user_id;
        
        INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, 'Post ' || p, 'Content of post ' || p, now() - interval '1 day' * p);
    END LOOP;
END $$",0,0.0,0.0,0.0,0.0,0.0,2848992,2925636146.479924,2.207519,17827.769064,1026.9021978579835,1660.36005021801,0,541054408,47805,1070874,1109816,0,0,0,0,0,0,0.0,0.0,0.0,0.0,172933333,75755,15413449267,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3867997044194152027,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON users

FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,2,3.513837,0.299572,3.214265,1.7569185,1.4573465,0,123,15,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,21,13,41650,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-1379775932950762113,"CREATE VIEW pg_stat_statements_info AS
  SELECT * FROM pg_stat_statements_info()",0,0.0,0.0,0.0,0.0,0.0,1,0.43292,0.43292,0.43292,0.43292,0.0,0,102,0,4,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,38,0,5268,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8396726190199253426,"CREATE TRIGGER pgbench_branches_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_branches
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.324461,0.324461,0.324461,0.324461,0.0,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,2,3.511772,1.715304,1.7964680000000002,1.755886,0.04058200000000012,2,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5035865106856685509,"SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  $1 = any(stxkind) AS ndist_enabled,
  $2 = any(stxkind) AS deps_enabled,
  $3 = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = $4
ORDER BY nsp, stxname",0,0.0,0.0,0.0,0.0,0.0,3,0.034672999999999995,0.007214,0.018811,0.011557666666666666,0.0051621844428712755,0,3,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2132097144627562734,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,276,9809.749564999993,5.683536,295.260258,35.54257088768115,47.152854120628106,276,3864,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5666695132111682671,"/* Then we can drop them */
DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.59246,0.59246,0.59246,0.59246,0.0,0,66,3,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5007379231354188931,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,1,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.009035999999999999,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2145631461473671941,ALTER SYSTEM SET log_statement = 'all',0,0.0,0.0,0.0,0.0,0.0,1,4.076483,4.076483,4.076483,4.076483,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,8520238304496078038,"/* contrib/pg_stat_statements/pg_stat_statements--1.7--1.8.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,0.7239869999999999,0.203322,0.260894,0.241329,0.02687891762453739,0,412,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,0,324,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8691660066681710686,"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, $1, $2),
  pg_catalog.pg_get_constraintdef(con.oid, $3), contype, condeferrable, condeferred, i.indisreplident, c2.reltablespace
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ($4,$5,$6))
WHERE c.oid = $7 AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname",0,0.0,0.0,0.0,0.0,0.0,3,0.6303839999999999,0.160492,0.298197,0.21012799999999998,0.062441910994673,3,114,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2425122690069286176,"INSERT INTO cars (brand, model, year)
VALUES ($1, $2, $3)",0,0.0,0.0,0.0,0.0,0.0,4,4.348908,0.08588499999999999,2.281959,1.087227,0.9666193583399311,4,158,19,3,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,1,447,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3397665903402774527,vacuum pgbench_tellers,0,0.0,0.0,0.0,0.0,0.0,124,71.787413,0.20563,16.558682,0.57893075,1.5194884222053404,0,8571,277,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,3762829239777940768,"/* Then we can drop them */
DROP VIEW pg_stat_statements",0,0.0,0.0,0.0,0.0,0.0,3,1.353504,0.260172,0.781671,0.451168,0.23464434652895433,0,399,4,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,117,0,6318,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4517054552524766126,"CREATE TABLE cars (
  brand VARCHAR(255),
  model VARCHAR(255),
  year INT
)",0,0.0,0.0,0.0,0.0,0.0,1,7.373418,7.373418,7.373418,7.373418,0.0,0,301,21,24,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,96,24,107242,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1333845523462394475,select * from users limit $1,0,0.0,0.0,0.0,0.0,0.0,3,0.107749,0.021955,0.050169,0.03591633333333333,0.01152015929673814,3,2,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,4530532297910608450,SET statement_timeout TO '400ms',0,0.0,0.0,0.0,0.0,0.0,4567,209.50272299999952,0.006051,163.233151,0.045873160280271524,2.415023636629428,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8359903691340641920,"-- Get the path of the pidfile
SHOW data_directory",0,0.0,0.0,0.0,0.0,0.0,124,0.775966,0.004302,0.016319,0.006257790322580646,0.001770536465422336,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,8794064283433954167,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)",0,0.0,0.0,0.0,0.0,0.0,1,1.220863,1.220863,1.220863,1.220863,0.0,118,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-1959224733154622938,ALTER SYSTEM SET log_duration = 'on',0,0.0,0.0,0.0,0.0,0.0,1,4.152558,4.152558,4.152558,4.152558,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5339038528433148895,"SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relname OPERATOR(pg_catalog.~) $1 COLLATE pg_catalog.default
  AND pg_catalog.pg_table_is_visible(c.oid)
ORDER BY 2, 3",0,0.0,0.0,0.0,0.0,0.0,3,0.16671,0.042291,0.08066999999999999,0.055569999999999994,0.017758358426386147,3,18,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8491259830854102665,"-- Get the wal sender info for pg >= 9.1
-- NEW pg_stat_replication
SELECT count(*) AS wal_senders
FROM pg_stat_replication",0,0.0,0.0,0.0,0.0,0.0,4693,75720.52372399991,0.048809,993.082037,16.134780252290643,62.535600804353436,4693,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6650430479887907887,BEGIN,0,0.0,0.0,0.0,0.0,0.0,24,0.144621,0.0042,0.010188,0.006025875,0.0017294134196431073,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6114308060117779060,select *  from pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,2,0.47710499999999995,0.22800199999999998,0.24910299999999996,0.23855249999999997,0.01055049999999999,12,4,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8712675335388877401,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender, color, colo)
VALUES 
($1, $2, $3, CURRENT_TIMESTAMP, $4, $5, $6, $7, $8, $9),
($10, $11, $12, CURRENT_TIMESTAMP, $13, $14, $15, $16, $17, $18)",0,0.0,0.0,0.0,0.0,0.0,15,125.83815899999999,0.314219,81.434818,8.389210600000002,20.305700863624388,30,368,48,39,26,0,0,0,0,0,0,0.0,0.0,0.0,0.0,73,0,7170,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8600514920661311986,select pg_database_size($1)/$2/$3,0,0.0,0.0,0.0,0.0,0.0,1,1.769148,1.769148,1.769148,1.769148,0.0,1,2,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-5515190423315814698,"SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = $1
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = $2, c.oid::pg_catalog.regclass::pg_catalog.text",0,0.0,0.0,0.0,0.0,0.0,3,0.023439,0.007498,0.008438,0.007813,0.00044194645226165865,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5951755690191944059,"CREATE TRIGGER users_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.users
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.408618,0.408618,0.408618,0.408618,0.0,0,61,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,0,921,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,7817776402393175893,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_9'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.110962,0.110962,0.110962,0.110962,0.0,0,26,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,1731,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8923330679408732445,"-- Get the server information for pg >= 11
-- NEW: pg_activity.backend_type for background workers (logical replication worker, parallel worker)
WITH dbinfo AS(
        SELECT COALESCE(SUM(sd.xact_commit + sd.xact_rollback)::BIGINT, $1) AS xact_count,
               COALESCE(SUM(tup_inserted)::BIGINT, $2) AS insert,
               COALESCE(SUM(tup_updated)::BIGINT, $3) AS update,
               COALESCE(SUM(tup_deleted)::BIGINT, $4) AS delete,
               COALESCE(SUM(tup_returned)::BIGINT, $5) AS tuples_returned,
               COALESCE(CASE
                   WHEN $6 THEN $7
                   ELSE SUM(pg_database_size(d.datname))
               END, $8) AS total_size,
               COALESCE(SUM(sd.blks_read), $9) AS blks_read,
               COALESCE(SUM(sd.blks_hit), $10) AS blks_hit,
               COALESCE(MAX(LENGTH(d.datname)), $11) AS max_dbname_length,
               current_timestamp - pg_postmaster_start_time() AS uptime,
               EXTRACT($12 FROM NOW()) AS epoch
          FROM pg_database d
               INNER JOIN pg_stat_database sd ON d.oid = sd.datid
         WHERE NOT (d.datname = $13 AND $14)
               AND CASE WHEN $15 IS NULL THEN $16
                        ELSE d.datname ~* $17
                   END
), activity AS (
        SELECT count(*) FILTER( WHERE backend_type = $18 and state = $19) AS active_connections,
               count(*) FILTER( WHERE backend_type = $20 and state = $21) AS idle,
               count(*) FILTER( WHERE backend_type = $22 and state = $23) AS idle_in_transaction,
               count(*) FILTER( WHERE backend_type = $24 and state = $25) AS idle_in_transaction_aborted,
               count(*) FILTER( WHERE backend_type = $26) AS total,
               count(*) FILTER( WHERE wait_event_type = $27) as waiting,
               current_setting($28)::int AS max_connections,
               count(*) FILTER( WHERE backend_type = $29) AS autovacuum_workers,
               current_setting($30)::int AS autovacuum_max_workers,
               count(*) FILTER( WHERE backend_type = $31) AS logical_replication_workers,
               count(*) FILTER( WHERE backend_type = $32) AS parallel_workers,
               current_setting($33)::int AS max_logical_replication_workers,
               current_setting($34)::int AS max_parallel_workers,
               current_setting($35)::int AS max_worker_processes,
               current_setting($36)::int AS max_wal_senders,
               current_setting($37)::int AS max_replication_slots
          FROM pg_stat_activity
         WHERE CASE WHEN $38 IS NULL THEN $39
                    ELSE datname ~* $40
               END
)
SELECT * FROM dbinfo, activity",0,0.0,0.0,0.0,0.0,0.0,4423,354431.2962790005,5.337863,3944.570411,80.1336867011078,177.25035637196248,4423,61920,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5284702054946707194,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN 
	PERFORM pg_notify('query_changes',TG_TABLE_NAME || ' ' || TG_OP);
	RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,9.006221,9.006221,9.006221,9.006221,0.0,0,143,48,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48239,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,8627560919401874727,SELECT pg_size_pretty(pg_database_size($1)),0,0.0,0.0,0.0,0.0,0.0,8521,162687.66527600045,1.651973,262.189677,19.092555483628644,25.524765139369826,8521,17042,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2144311047233686195,"CREATE TRIGGER check_database_size
AFTER INSERT OR UPDATE ON users
FOR EACH ROW EXECUTE FUNCTION limit_database()",0,0.0,0.0,0.0,0.0,0.0,1,2.742862,2.742862,2.742862,2.742862,0.0,0,157,16,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,27894,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5921434032805394814,"CREATE TRIGGER cars_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.cars
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,3.477509,3.477509,3.477509,3.477509,0.0,0,112,7,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,8,25534,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-733756578274403927,"INSERT INTO posts (user_id, title, content, created_at)
        VALUES (user_id, $8 || p, $9 || p, now() - interval $10 * p)",0,0.0,0.0,0.0,0.0,0.0,28652034,1873142131.8749294,0.026314,3977.356408,65.37553780214887,218.8831748282505,28652034,357268248,18612,469086,479405,0,0,0,0,0,0,0.0,0.0,0.0,0.0,115659616,49042,8694342172,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,936504523861583354,select * from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,22,28.041724000000002,0.416869,2.622489,1.274623818181818,0.6083866576958527,2163,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3380059756058069442,"SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, $1) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors($2)
                     UNION ALL VALUES ($3::pg_catalog.regclass))
       AND contype = $4 AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.23754,0.06101,0.11461299999999999,0.07918,0.025057650581542287,3,22,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,1.618133,1.618133,1.618133,1.618133,0.0,0,45,3,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,8,3,20300,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,8251532471449756215,SELECT pg_reload_conf(),0,0.0,0.0,0.0,0.0,0.0,1,0.023837,0.023837,0.023837,0.023837,0.0,1,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-7027428695819533415,"/* contrib/pg_stat_statements/pg_stat_statements--1.5--1.6.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


-- Execution is only allowed for superusers, fixing issue with 1.5.
REVOKE EXECUTE ON FUNCTION pg_stat_statements_reset() FROM pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.050812,0.050812,0.050812,0.050812,0.0,0,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,194,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,3,0.9855029999999999,0.18488200000000002,0.5858639999999999,0.328501,0.182391363525433,30,199,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.082739000000001,0.197218,6.579348,2.360913,2.9832156235539977,0,195,36,10,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,27,10,65695,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,2,0.050126000000000004,0.024702,0.025424,0.025063000000000002,0.00036099999999999934,2,8,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2656923081360860581,SELECT * FROM pg_stat_replication,0,0.0,0.0,0.0,0.0,0.0,8543,55867.085462999996,0.6227370000000001,183.809134,6.539516032190107,14.5623169137196,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,2243535390648614389,"CREATE TRIGGER pgbench_history_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_history
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.393488,0.393488,0.393488,0.393488,0.0,0,38,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3043752703935023282,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39 * 1024 * 1024; -- 39 MB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,3.527909,0.508278,1.667058,1.1759696666666666,0.48927451402277455,0,177,23,7,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,26,6,35949,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3977038999982313382,select * from pg_stat_all_tables,0,0.0,0.0,0.0,0.0,0.0,7,8.447092,1.1506820000000002,1.3042010000000002,1.2067274285714285,0.06048576526720306,812,273,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3939657611886045939,select * from users,0,0.0,0.0,0.0,0.0,0.0,4,21627.308288999997,3011.177721,12087.129321999999,5406.827072249999,3858.3393155912518,18759800,32,328105,34242,34232,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,6472781305224415496,vacuum pgbench_branches,0,0.0,0.0,0.0,0.0,0.0,124,170.8511549999999,0.430039,61.664956,1.3778318951612902,5.477069773804712,0,12034,440,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,171,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8337124217893553948,"INSERT INTO users (id, username, email, created_at, firstname, address, age, gender)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8)",0,0.0,0.0,0.0,0.0,0.0,1,6.622019,6.622019,6.622019,6.622019,0.0,1,56,21,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,1,7674,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3825640688184167069,SELECT * FROM pg_stat_database,0,0.0,0.0,0.0,0.0,0.0,8537,7806.7177660000025,0.181109,156.332005,0.9144568075436368,4.032692744197478,59759,8537,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3627211039277602740,"/* Now redefine */
CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT toplevel bool,
    OUT queryid bigint,
    OUT query text,
    OUT plans int8,
    OUT total_plan_time float8,
    OUT min_plan_time float8,
    OUT max_plan_time float8,
    OUT mean_plan_time float8,
    OUT stddev_plan_time float8,
    OUT calls int8,
    OUT total_exec_time float8,
    OUT min_exec_time float8,
    OUT max_exec_time float8,
    OUT mean_exec_time float8,
    OUT stddev_exec_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8,
    OUT temp_blk_read_time float8,
    OUT temp_blk_write_time float8,
    OUT wal_records int8,
    OUT wal_fpi int8,
    OUT wal_bytes numeric,
    OUT jit_functions int8,
    OUT jit_generation_time float8,
    OUT jit_inlining_count int8,
    OUT jit_inlining_time float8,
    OUT jit_optimization_count int8,
    OUT jit_optimization_time float8,
    OUT jit_emission_count int8,
    OUT jit_emission_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_10'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.392239,0.392239,0.392239,0.392239,0.0,0,27,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,2088,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-8533086694205698702,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
DECLARE
    payload JSON;
BEGIN
    payload = json_build_object(
        'table', TG_TABLE_NAME,
        'operation', TG_OP,
        'old_data', row_to_json(OLD),
        'new_data', row_to_json(NEW)
    );
    PERFORM pg_notify('query_changes', payload::text);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,8.893831,8.893831,8.893831,8.893831,0.0,0,107,51,8,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,8,57814,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-2042799606268276173,GRANT SELECT ON pg_stat_statements TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,4,1.4622700000000002,0.177882,0.912327,0.3655675,0.3157409119392829,0,107,7,3,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,2,12030,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,4388971712426806691,"SELECT * FROM users,posts",0,0.0,0.0,0.0,0.0,0.0,8589,99.3626809999998,0.005733,7.810518,0.011568597159157052,0.130363860019212,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,4539932939699134769,"SELECT $2 FROM ONLY ""public"".""users"" x WHERE ""id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,28652035,154452050.04881242,0.005488,3921.433912,5.3906136178054185,48.99691519210056,28652034,142391369,14,315,3,0,0,0,0,0,0,0.0,0.0,0.0,0.0,28652034,10070,1582957394,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6040351173016881064,"NOTIFY query_changes, 'test notification'",0,0.0,0.0,0.0,0.0,0.0,1,0.002033,0.002033,0.002033,0.002033,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7839972009067783332,"CREATE TRIGGER posts_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.posts
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.289074,0.289074,0.289074,0.289074,0.0,0,33,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,10,0,862,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1345865735253463468,SELECT * FROM pg_stat_user_tables,0,0.0,0.0,0.0,0.0,0.0,8534,29642.71969600004,0.32532,141.095504,3.47348484837123,9.962319341483704,51204,332826,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-7369213417725815275,"CREATE OR REPLACE FUNCTION notify_trigger() RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify('query_changes', TG_TABLE_NAME || ' ' || TG_OP);
    RETURN NEW;
END;
$$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,0.509849,0.509849,0.509849,0.509849,0.0,0,34,1,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,11,1,8612,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-390614890323562444,GRANT SELECT ON pg_stat_statements_info TO PUBLIC,0,0.0,0.0,0.0,0.0,0.0,1,0.087447,0.087447,0.087447,0.087447,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,322,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4783447415763850366,"SELECT $1 as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, $2) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = $3 AND r.contype = $4
     AND conparentid = $5
ORDER BY conname",0,0.0,0.0,0.0,0.0,0.0,3,0.10778100000000002,0.034564000000000004,0.036715000000000005,0.035927,0.0009677014002263296,0,9,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-5301606608366508371,"SELECT * FROM pg_stat_statements pss
	JOIN pg_roles pr ON (userid=oid)
WHERE rolname = current_user",0,0.0,0.0,0.0,0.0,0.0,1,1.033115,1.033115,1.033115,1.033115,0.0,79,1,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,404058072343995822,DROP TRIGGER IF EXISTS check_database_size ON users,0,0.0,0.0,0.0,0.0,0.0,1,2.835835,2.835835,2.835835,2.835835,0.0,0,162,9,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,2,9158,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-8206588212326977292,"truncate users,posts",0,0.0,0.0,0.0,0.0,0.0,20,3292.9376350000002,9.619546,2359.270656,164.64688175000003,522.8360941540963,0,7521,105,114,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1198,202,370603,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,9083497346394799406,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39; -- 39 GB in bytes
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname) INTO current_size;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,1,5.003503,5.003503,5.003503,5.003503,0.0,0,180,22,9,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,9,48566,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-2885330479908940062,"-- Get the server's version
SELECT version() AS pg_version",0,0.0,0.0,0.0,0.0,0.0,123,1.1668829999999997,0.005503,0.028307,0.00948685365853659,0.003162104909432793,123,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,2258630658365663277,select *  from pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,4,5.131653,0.89076,1.663571,1.28291325,0.2914209337833976,461,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7082835584955125579,"-- Get temporary file information for pg >= 12
-- NEW: pg_ls_tmp_dir()
SELECT count(*) as temp_files,
       COALESCE(SUM(size), $1) AS temp_bytes
  FROM pg_tablespace ts, LATERAL pg_catalog.pg_ls_tmpdir(ts.oid) tmp
 WHERE spcname <> $2",0,0.0,0.0,0.0,0.0,0.0,4559,920.4191080000019,0.039061,306.48665800000003,0.201890569861812,5.011033948941703,4559,4803,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,1805901175234405421,"INSERT INTO users (username, email, firstname, age, gender, address)
        VALUES ($7 || u_id, $8 || u_id || $9, $10 || u_id, age, gender, address)
        RETURNING id",0,0.0,0.0,0.0,0.0,0.0,28652034,1064733123.4535097,0.009677,4900.44984,37.16082158263339,139.87619754383934,28652034,157249866,28268,609370,638842,0,0,0,0,0,0,0.0,0.0,0.0,0.0,58257940,27455,6809353408,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3360448620309293526,ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements(boolean),0,0.0,0.0,0.0,0.0,0.0,3,0.115585,0.03427,0.042029,0.03852833333333333,0.003212586116441945,0,37,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,3,0,162,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4201113241702894153,SELECT pg_size_pretty(pg_total_relation_size($1)),0,0.0,0.0,0.0,0.0,0.0,16995,2944.7810240000204,0.046627,95.050316,0.173273375934098,1.5486048256461848,16995,4404,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,464170189307082695,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset() FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.198742,0.198742,0.198742,0.198742,0.0,0,16,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,7220,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-3865930972958879921,"SELECT pg_notify($10, TG_TABLE_NAME || $11 || TG_OP)",0,0.0,0.0,0.0,0.0,0.0,22,0.09295300000000001,0.001041,0.015472,0.004225136363636363,0.003350063585494983,22,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-6444116630088437673,"/* Now redefine */
CREATE FUNCTION pg_stat_statements_reset(IN userid Oid DEFAULT 0,
	IN dbid Oid DEFAULT 0,
	IN queryid bigint DEFAULT 0
)
RETURNS void
AS '$libdir/pg_stat_statements', 'pg_stat_statements_reset_1_7'
LANGUAGE C STRICT PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.889666,0.889666,0.889666,0.889666,0.0,0,30,6,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8832,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6594641675432182244,"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, $1 AS relhasoids, c.relispartition, $2, c.reltablespace, CASE WHEN c.reloftype = $3 THEN $4 ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = $5",0,0.0,0.0,0.0,0.0,0.0,3,0.099069,0.027395000000000003,0.036053,0.033023000000000004,0.003983502981045701,3,12,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,1413096659189952555,"CREATE FUNCTION pg_stat_statements(IN showtext boolean,
    OUT userid oid,
    OUT dbid oid,
    OUT queryid bigint,
    OUT query text,
    OUT calls int8,
    OUT total_time float8,
    OUT min_time float8,
    OUT max_time float8,
    OUT mean_time float8,
    OUT stddev_time float8,
    OUT rows int8,
    OUT shared_blks_hit int8,
    OUT shared_blks_read int8,
    OUT shared_blks_dirtied int8,
    OUT shared_blks_written int8,
    OUT local_blks_hit int8,
    OUT local_blks_read int8,
    OUT local_blks_dirtied int8,
    OUT local_blks_written int8,
    OUT temp_blks_read int8,
    OUT temp_blks_written int8,
    OUT blk_read_time float8,
    OUT blk_write_time float8
)
RETURNS SETOF record
AS '$libdir/pg_stat_statements', 'pg_stat_statements_1_3'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.418111,0.418111,0.418111,0.418111,0.0,0,70,2,2,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,1,8744,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,-1471515148906744548,"CREATE OR REPLACE FUNCTION limitDatabase() RETURNS trigger AS $limitDatabase$
DECLARE
  maxsize bigint := 39;
  current_size bigint;
  dbname VARCHAR(255) := 'bench';
BEGIN
  SELECT pg_database_size(dbname)/1024/1024 into current_size ;
  IF current_size > maxsize THEN
    RAISE NOTICE 'Alert: send this data to new node';
  END IF;
  RETURN NULL;
END;
$limitDatabase$ LANGUAGE plpgsql",0,0.0,0.0,0.0,0.0,0.0,3,7.991293,0.649478,6.424274,2.663764333333333,2.6613328938475336,0,233,48,13,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,35,11,65617,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-7982038434536812550,"SELECT pubname
     , $1
     , $2
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid =$3 and pg_catalog.pg_relation_is_publishable($4)
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, $5)
           FROM pg_catalog.generate_series($6, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], $7)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE $8 END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = $9
UNION
SELECT pubname
     , $10
     , $11
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable($12)
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.08432699999999999,0.018817,0.033327999999999997,0.028109,0.006587072035434255,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,3805582906939873643,DROP TRIGGER IF EXISTS query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.347052,0.347052,0.347052,0.347052,0.0,0,35,0,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,5848416356005953097,RESET statement_timeout,0,0.0,0.0,0.0,0.0,0.0,4566,19.86189800000004,0.001718,3.378091,0.004349955759964943,0.05121267364384954,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-8553890797533947962,CREATE EXTENSION pg_stat_statements,0,0.0,0.0,0.0,0.0,0.0,1,34.312572,34.312572,34.312572,34.312572,0.0,0,2672,125,66,7,0,0,0,0,0,0,0.0,0.0,0.0,0.0,696,42,304683,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,4306761886284541834,"/* contrib/pg_stat_statements/pg_stat_statements--1.6--1.7.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


/* First we have to remove them from the extension */
ALTER EXTENSION pg_stat_statements DROP FUNCTION pg_stat_statements_reset()",0,0.0,0.0,0.0,0.0,0.0,1,0.063001,0.063001,0.063001,0.063001,0.0,0,20,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,108,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-5245744615494686787,"-- Get the wal receiver info for pg >= 9.6
-- NEW pg_stat_wal_receiver
SELECT count(*) AS wal_receivers FROM pg_stat_wal_receiver",0,0.0,0.0,0.0,0.0,0.0,4691,55.95166600000002,0.0070350000000000005,1.0589469999999999,0.011927449584310386,0.01598822500948485,4691,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2856889293465673347,"SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, $1), t.tgenabled, t.tgisinternal,
  CASE WHEN t.tgparentid != $2 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = $3
     ORDER BY a.depth LIMIT $4)
  END AS parent
FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = $5 AND (NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = $6))
ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.16046400000000002,0.037087,0.070942,0.05348800000000001,0.013841287584614378,7,17,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-1513092817123458136,SELECT pg_database_size(current_database()),0,0.0,0.0,0.0,0.0,0.0,8168706,495344657.02637625,1.381938,4178.117705,60.6393052983308,142.52883882588847,8168706,16413933,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-2287508804203952239,"CREATE TRIGGER query_changes_trigger AFTER INSERT OR UPDATE OR DELETE ON cars
FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.633133,0.633133,0.633133,0.633133,0.0,0,41,5,8,1,0,0,0,0,0,0,0.0,0.0,0.0,0.0,14,8,22763,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4434247437409536234,"ALTER TABLE users 
ADD colo VARCHAR(254)",0,0.0,0.0,0.0,0.0,0.0,1,0.28674,0.28674,0.28674,0.28674,0.0,0,24,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,5,0,433,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-3917828303097562058,"/* contrib/pg_stat_statements/pg_stat_statements--1.8--1.9.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


--- Define pg_stat_statements_info
CREATE FUNCTION pg_stat_statements_info(
    OUT dealloc bigint,
    OUT stats_reset timestamp with time zone
)
RETURNS record
AS '$libdir/pg_stat_statements'
LANGUAGE C STRICT VOLATILE PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,0.117055,0.117055,0.117055,0.117055,0.0,0,30,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,0,985,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-3135770846959874166,DROP TRIGGER IF EXISTS users_query_changes_trigger ON users,0,0.0,0.0,0.0,0.0,0.0,1,0.26446,0.26446,0.26446,0.26446,0.0,0,35,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,4,0,204,0,0.0,0,0.0,0,0.0,0,0.0
16388,16389,True,5827178464283574856,"SELECT a.attname,
  pg_catalog.format_type(a.atttypid, a.atttypmod),
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, $1)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation,
  a.attidentity,
  a.attgenerated
FROM pg_catalog.pg_attribute a
WHERE a.attrelid = $2 AND a.attnum > $3 AND NOT a.attisdropped
ORDER BY a.attnum",0,0.0,0.0,0.0,0.0,0.0,2,0.519251,0.181093,0.338158,0.2596255,0.0785325,86,194,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-682041630676958947,"SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = $1
  AND c.relkind != $2 AND c.relkind != $3
ORDER BY inhseqno",0,0.0,0.0,0.0,0.0,0.0,3,0.026525,0.007078,0.012345,0.008841666666666666,0.0024772501331561617,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,-8069457740457500848,"/* contrib/pg_stat_statements/pg_stat_statements--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


-- Register functions.
CREATE FUNCTION pg_stat_statements_reset()
RETURNS void
AS '$libdir/pg_stat_statements'
LANGUAGE C PARALLEL SAFE",0,0.0,0.0,0.0,0.0,0.0,1,3.070272,3.070272,3.070272,3.070272,0.0,0,31,20,7,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,9,5,38059,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-6691590321799101938,"SELECT $2 FROM ONLY ""public"".""posts"" x WHERE $1 OPERATOR(pg_catalog.=) ""user_id"" FOR KEY SHARE OF x",0,0.0,0.0,0.0,0.0,0.0,1,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.7799740000000001,0.0,1,1,5,1,5,0,0,0,0,0,0,0.0,0.0,0.0,0.0,1,1,8215,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-20850600116200829,"-- Get the server and client inet addresses
SELECT inet_server_addr() AS inet_server_addr, inet_client_addr() AS inet_client_addr",0,0.0,0.0,0.0,0.0,0.0,124,0.9259500000000003,0.004608,0.013022,0.007467338709677421,0.001441162321492155,124,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,1650470535910119993,SELECT * FROM pg_stat_user_functions,0,0.0,0.0,0.0,0.0,0.0,8513,39603.44506499995,0.7760710000000001,197.851733,4.652113833548689,10.102612140612749,0,834192,82,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-4554835823379561409,SELECT * FROM pg_stat_user_indexes,0,0.0,0.0,0.0,0.0,0.0,8521,34008.47229000005,0.422568,126.92136300000001,3.9911362856472206,10.479767208426718,51126,485697,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,2128725512316733402,"-- Don't want this to be available to non-superusers.
REVOKE ALL ON FUNCTION pg_stat_statements_reset(Oid, Oid, bigint) FROM PUBLIC",0,0.0,0.0,0.0,0.0,0.0,1,0.231136,0.231136,0.231136,0.231136,0.0,0,17,1,1,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,6,1,8672,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,2126909647488332844,"-- Get data from pg_activity since pg 13
-- NEW pg_activity.leader_pid
SELECT
      a.pid AS pid,
      a.application_name AS application_name,
      a.datname AS database,
      a.client_addr AS client,
      EXTRACT($1 FROM (NOW() - a.""query_start"")) AS duration,
      a.wait_event AS wait,
      a.usename AS user,
      a.state AS state,
      a.query AS query,
      pg_catalog.pg_encoding_to_char(b.encoding) AS encoding,
      coalesce(a.leader_pid, a.pid) AS query_leader_pid,
      a.backend_type = $2 AS is_parallel_worker
 FROM
      pg_stat_activity a
      LEFT OUTER JOIN pg_database b ON a.datid = b.oid
 WHERE
      a.state <> $3
  AND a.pid <> pg_catalog.pg_backend_pid()
  AND CASE WHEN $4 = $5
          THEN $6
          ELSE extract($7 from now() - ""query_start"") > $8
      END
    AND CASE WHEN $9 IS NULL THEN $10
        ELSE a.datname ~* $11
        END
ORDER BY
      EXTRACT(epoch FROM (NOW() - a.""query_start"")) DESC",0,0.0,0.0,0.0,0.0,0.0,4567,126429.56880299978,0.049019,1461.527404,27.683286359316828,86.37656260097268,1197693,7681,2,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,700301504752936876,"CREATE TRIGGER pgbench_tellers_query_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON public.pgbench_tellers
        FOR EACH ROW EXECUTE FUNCTION notify_trigger()",0,0.0,0.0,0.0,0.0,0.0,1,0.558485,0.558485,0.558485,0.558485,0.0,0,36,1,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,12,0,1016,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,7425413892317317539,"-- get the replication slots information for pg > 14
-- NEW pg_replication_slots
SELECT count(*) AS replication_slots FROM pg_replication_slots",0,0.0,0.0,0.0,0.0,0.0,4690,238.1548649999999,0.009162,112.301265,0.050779288912580316,1.679973236910684,4690,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,5087075542736990340,truncate pgbench_history,0,0.0,0.0,0.0,0.0,0.0,124,302.70226400000007,0.609455,184.076651,2.441147290322583,16.38295620790169,0,6151,203,243,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,771,210,1023724,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,7167377402879047417,"SELECT table_name
    FROM information_schema.tables
    WHERE table_schema = $1
    AND table_type = $2",0,0.0,0.0,0.0,0.0,0.0,4,1.254151,0.305031,0.323638,0.31353775,0.006706250158434289,28,228,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6114308060117779060,SELECT * FROM pg_stat_activity,0,0.0,0.0,0.0,0.0,0.0,8585,106793.76363000012,0.22168200000000002,202.450952,12.439576427489834,19.563434465037773,917660,17170,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,False,-5704368173710169636,"SELECT pg_notify($15, payload::text)",0,0.0,0.0,0.0,0.0,0.0,20446102,81484.33826599894,0.001316,371.335408,0.003985323865937351,0.13039029723478965,20446102,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
10,5,False,5251191987257831479,"/* contrib/pg_stat_statements/pg_stat_statements--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


GRANT EXECUTE ON FUNCTION pg_stat_statements_reset() TO pg_read_all_stats",0,0.0,0.0,0.0,0.0,0.0,1,0.067343,0.067343,0.067343,0.067343,0.0,0,14,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,2,0,226,0,0.0,0,0.0,0,0.0,0,0.0
10,5,True,-7673607761398535603,ALTER SYSTEM SET log_min_duration_statement = 0,0,0.0,0.0,0.0,0.0,0.0,1,4.037032,4.037032,4.037032,4.037032,0.0,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
16388,16459,True,-6943489808413721422,"SELECT pol.polname, pol.polpermissive,
  CASE WHEN pol.polroles = $1 THEN $2 ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),$3) END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN $4 THEN $5
    WHEN $6 THEN $7
    WHEN $8 THEN $9
    WHEN $10 THEN $11
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = $12 ORDER BY 1",0,0.0,0.0,0.0,0.0,0.0,3,0.03825200000000001,0.007975000000000001,0.022086,0.012750666666666669,0.006601666473112848,0,0,0,0,0,0,0,0,0,0,0,0.0,0.0,0.0,0.0,0,0,0,0,0.0,0,0.0,0,0.0,0,0.0
